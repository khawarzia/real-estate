{% load static %}
{% load convertToDate %}
<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.3.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:300,400,700">
    <link rel='dns-prefetch' href='//use.fontawesome.com' />
    <link rel='stylesheet' id='fontawesome-css' href='https://use.fontawesome.com/releases/v5.2.0/css/all.css?ver=5.2.0'
        type='text/css' media='all' />
    <link href="https://unpkg.com/gijgo@1.9.13/css/gijgo.min.css" rel="stylesheet" type="text/css" />
    <link rel="stylesheet" href='{% static "functionality/css/page_43_54_google_slides.css" %}'>
    <link rel="stylesheet" href='{% static "functionality/css/page_43_google_slides.css" %}'>


    <title>UpClinch</title>
    <script>
      var limit = parseInt('{{reqobj.vacant}}');
      function thisischangefunc(a){
        if (limit == 0){
          a.checked = false;
        }
        else{
          var checks = 0;
          var b = document.getElementsByClassName('custom-control-input');
          var c = [];
          var i = 0;
          console.log(b);
          for (i = 0 ; i < b.length ; i++){
            if (i > 2){
              c.push(b[i]);
            }
          }
          for (i = 0 ; i < c.length ; i++){
            if (c[i].checked){
              checks += 1;
            }
          }
          if (checks > limit){
            a.checked = false;
          }
        }
      }
    </script>

</head>

<body>
  {% include "mysite/header.html" %}

    <div class="modal fade" id="searchmodal" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
          <div class="modal-content">
            <div class="modal-header border-0">
              <h5 class="modal-title text-danger" id="exampleModalCenterTitle">Add up to {{reqobj.vacant}} more properties to your tour</h5>
              
              <button type="submit" form="additionform" onclick="this.form.submit()" class="btn btn-danger" style="position:relative; left:51.5%;">
                Done
            </button>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
              <br>
              
    
            </div>
            <form method="GET" id="searchformthis">
            <input type="text"  name="query" placeholder="Enter city"
              class="form-control p-0  m-0 border border-secondary pl-2 bg-transparent ml-3" id="BuyerName"
              autocomplete="off" onclick="if(this.value != ''){this.form.submit()}"
              style="background-image: url('{% static 'functionality/images/search.png'  %}');
               background-repeat: no-repeat;
                                          background-size: 20px 20px;
                                          background-position: 99% 35%;
                                          margin-right:20px;
                                          width:96.5%;
                                          "
              >
            </form>
            <div class="modal-body">
                <div class="card border-0 mb-0" id="header_Card">
                    <div class="card-body mb-0">
                      <form>
                        <div class="row ml-0 mb-0" style="width:1100px;">
                          <div class="col-sm-5 m-0 p-1 mb-0" style="background-color: rgb(228, 228, 228);">
                            <div class="card-body m-0 p-0">
                              <h5 class="card-title font-weight-normal">Property Type</h5>
                              <div class="row mx-auto" style="width:500px;">
                                <div class="btn-group-toggle m-1 ml-3 bg-white" data-toggle="buttons">
                                  <label class="btn btn-outline-dark width-130">
                                    <input type="checkbox"> Single Family
                                  </label>
                                </div>
                                
                                <div class="btn-group-toggle m-1 ml-2 bg-white" data-toggle="buttons">
                                  <label class="btn btn-outline-dark width-130">
                                    <input type="checkbox"> Town Home
                                  </label>
                                </div>
                                <div class="btn-group-toggle m-1 ml-2 bg-white" data-toggle="buttons">
                                  <label class="btn btn-outline-dark width-130">
                                    <input type="checkbox"> Condominium
                                  </label>
                                </div>
                              </div>
                              <div class="row mx-auto" style="width: 380px;">
                                <div class="btn-group-toggle m-1 ml-3 bg-white" data-toggle="buttons">
                                  <label class="btn btn-outline-dark width-130">
                                    <input type="checkbox"> Multi Family
                                  </label>
                                </div>
                                <div class="btn-group-toggle m-1 ml-2 bg-white" data-toggle="buttons">
                                  <label class="btn btn-outline-dark width-130">
                                    <input type="checkbox"> Land
                                  </label>
                                </div>
                              </div>
                              <div class="row mx-auto">
                                <div class="col">
                                <h5 class="card-title font-weight-normal">Price</h5>
                                <div class="row form-group ml-4" style="width:300px;">
                                  <div class="col-sm-5 mt-2">
                                    <select class="form-control" id="exampleFormControlSelect1" placeholder="max"
                                      >
                                      <option selected disabled>min</option>
                                      <option>1</option>
                                      <option>2</option>
                                      <option>3</option>
                                      <option>4</option>
                                      <option>5</option>
                                    </select>
                                  </div>
                                  <div class="col-sm-1 mt-2">
                                    <span class="font-weight-bold font-size-30">-</span>
                                  </div>
                                  <div class="col-sm-5 mt-2">
                                    <select class="form-control" id="exampleFormControlSelect1" >
                                      <option selected disabled>max</option>
                                      <option>1</option>
                                      <option>2</option>
                                      <option>3</option>
                                      <option>4</option>
                                      <option>5</option>
                                    </select>
                                  </div>
                                </div>
                                </div>
                                <div class="col">
                                    
                                        <h5 class="card-title font-weight-normal font-size-16">Stories</h5>
                                        <select class="form-control mt-4" id="exampleFormControlSelect1" placeholder="max"
                                          >
                                          <option selected disabled hidden></option>
                                          <option>1</option>
                                          <option>2</option>
                                          <option>3</option>
                                          <option>4</option>
                                          <option>5</option>
                                        </select>
                                      
                                </div>
                              </div>
                              <div class="row mx-auto m-0 p-0">
                                  <div class="col">
                                    <h5 class="card-title font-weight-normal">Beds</h5>
                                
                                    <input type="range" class="custom-range " min="0" max="5" step="0.5" id="customRange3">
                                  </div>
                                
                                <div class="col">
                                    <h5 class="card-title font-weight-normal">Baths</h5>
                                    
                                    <input type="range" class="custom-range" min="0" max="5" step="0.5" id="customRange3">
                                </div>
                                
                              </div>
                              
                              <div class="row mx-auto">
                                  <div class="col">
                                    <h5 class="card-title font-weight-normal">Square Feet</h5>
                                    <div class="row form-group">
                                      <div class="col-sm-5 mt-3">
                                        <select class="form-control" id="exampleFormControlSelect1" placeholder="max"
                                          >
                                          <option selected disabled>min</option>
                                          <option>1</option>
                                          <option>2</option>
                                          <option>3</option>
                                          <option>4</option>
                                          <option>5</option>
                                        </select>
                                      </div>
                                      <div class="col-sm-1 mt-3">
                                        <span class="font-weight-bold font-size-30">-</span>
                                      </div>
                                      <div class="col-sm-5 mt-3">
                                        <select class="form-control" id="exampleFormControlSelect1" >
                                          <option selected disabled>max</option>
                                          <option>1</option>
                                          <option>2</option>
                                          <option>3</option>
                                          <option>4</option>
                                          <option>5</option>
                                        </select>
                                      </div>
                                    </div>
                                  </div>
                                  <div class="col">
                                    
                                        <h5 class="card-title font-weight-normal ml-4">Days on Market</h5>
                                        <select class="form-control ml-5 mt-4" id="exampleFormControlSelect1" >
                                          <option selected disabled hidden></option>
                                          <option>1</option>
                                          <option>2</option>
                                          <option>3</option>
                                          <option>4</option>
                                          <option>5</option>
                                        </select>
                                      
                                  </div>
                                
                              </div>
                              <div class="row mx-auto">
                                  <div class="col">
                                    <h5 class="card-title font-weight-normal">Lot Size</h5>
                                    <div class="row form-group" style="width:300px;">
                                      <div class="col-sm-5 mt-2 ml-2">
                                        <select class="form-control" id="exampleFormControlSelect1" placeholder="max"
                                          >
                                          <option selected disabled>min</option>
                                          <option>1</option>
                                          <option>2</option>
                                          <option>3</option>
                                          <option>4</option>
                                          <option>5</option>
                                        </select>
                                      </div>
                                      <div class="col-sm-1 mt-2">
                                        <span class="font-weight-bold font-size-30">-</span>
                                      </div>
                                      <div class="col-sm-5 mt-2">
                                        <select class="form-control" id="exampleFormControlSelect1" >
                                          <option selected disabled>max</option>
                                          <option>1</option>
                                          <option>2</option>
                                          <option>3</option>
                                          <option>4</option>
                                          <option>5</option>
                                        </select>
                                      </div>
                                    </div>
                                  </div>
                                  <div class="col">
                                    <h5 class="card-title font-weight-normal">Include</h5>
                                      <div class="row mt-4">
                                        <div class="custom-control custom-checkbox">
                                            <input type="checkbox" class="custom-control-input" id="customChecka">
                                            <label class="custom-control-label" for="customChecka">Active</label>
                                          </div>
                                      </div>
                                      <div class="row">
                                        <div class="custom-control custom-checkbox">
                                            <input type="checkbox" class="custom-control-input" id="customCheckb">
                                            <label class="custom-control-label" for="customCheckb">Pending</label>
                                          </div>
                                      </div>
                                      <div class="row">
                                        <div class="custom-control custom-checkbox">
                                            <input type="checkbox" class="custom-control-input" id="customCheckc">
                                            <label class="custom-control-label" for="customCheckc">Sold</label>
                                          </div>
                                      </div>
                                    
                                  </div>
                                
                              </div>
                              
                              <div class="row mx-auto m-0 p-0">
                                <h5 class="card-title font-weight-normal">Year Built</h5>
                                <input type="range" class="custom-range" min="0" max="5" step="0.5" id="customRange3">
                                 
                              </div><br>
                              <button class="btn btn-danger" type="button" form="searchformthis" onclick="this.form.submit()">Search</button>
                            </form>
                            </div>
                          </div>
                          
                          <div class="col-sm-5 m-0 ml-2 mb-1">
                            <form method="POST" id="additionform">{% csrf_token %}
                              <input type="hidden" name="reqo" value="{{reqobj.id}}">
                            {% for i in props %}
                              <div class="row" style="background-color: rgb(228, 228, 228);">
                                <div class="card-body list-group-item-action m-0 pl-0" id="lst_0001">
                                  
                        <div class="media position-relative m-0 p-0">
                            <img src="/media/{{i.image1}}" class="align-self-start mr-0 ml-2" alt="...">
                            <div class="media-body">
                            
                            <div class="row ml-1">
                              <div class="col">
                                
                                <div class="row">
                                    
                                    <div class="col-sm-9">
                                        <div class="custom-control custom-checkbox float-right" style="position: relative; left:45%;">
                                            <input type="checkbox" onchange="thisischangefunc(this)" class="custom-control-input" id="customCheck{{i.id}}" name="{{i.id}}">
                                            <label class="custom-control-label" for="customCheck{{i.id}}"></label>
                                          </div>
                                      <h5 class="mt-0 font-weight-bold">
                                          {{i.address}}
                                        
                                        
                                        <p class="card-text font-weight-normal font-size-16 mt-1">
                                          {{i.city}}
                                        </p>
                                      </h5>
                                      Status : <b>Active</b>
                                      <h5 class="card-title text-left font-weight-bold font-size-16 mt-4">${{i.price}} <br>                                      {{i.sqft}} sqft | {{i.beds}} beds | {{i.baths}} baths</p>
                                      </h5>
                                    </div>
                                  </div>
                              </div>
                              
                            </div>
                          
                          </div>
                        </div>
                        
                      </div>
                              </div>{% endfor %}</form>
                              
                          </div>
                          
                        </div>
                    </div>
                  </div>
            </div>
            <div class="modal-footer border-0">
              
            </div>
          </div>
        </div>
      </div>


    <!-- Modal -->
    <div class="modal fade" id="nosubmitmodal" tabindex="-1" role="dialog"
        aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header border-0">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body text-center text-wrap text-dark font-size-20" id="errortextmessage">
                    Please select at least one date and time to request a tour.
                </div>
                <div class="modal-footer border-0">
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="nosubmitmodal2" tabindex="-1" role="dialog"
        aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header border-0">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body text-center text-wrap text-dark font-size-20" id="errortextmessage">
                    <p>Add at least one property to the tour in order to submit a request.</p>
                </div>
                <div class="modal-footer border-0">
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="removep" tabindex="-1" role="dialog"
        aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header border-0">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body text-center text-wrap text-dark font-size-20">
                    Are you sure you want to remove the property from the tour?<br>
                    <a href="#" class="text-danger text-decoration-none font-weight-bolder"  id="removeconfirm">Remove</a>
                </div>
                <div class="modal-footer border-0">
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="submitmodal" tabindex="-1" role="dialog"
        aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header border-0">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body text-center text-wrap">
                    <h5 class="modal-title text-danger">Your tour request has been sent!</h5>
                    <p class="text-dark text-center text-wrap font-size-16">You will receive a confirmation as soon as
                        your UpClinch Agent lines all showings for you.</p>
                </div>
                <div class="modal-footer border-0">
                </div>
            </div>
        </div>
    </div>

    <div class="mx-auto mt-5" style="width: 1100px;">
        <div class="card border-0">
            <h3 class="card-title mx-auto font-weight-bold text-red font-size-30 text-danger" id="pageTitle">Request a Tour</h3>
            <div class="card-body">
                <div class="float-left font-weight-bold"><span class="text-dark font-size-20">Status: In Creation</span>
                </div><br>
                <br>
                <div class="container">
                    <div class="row">
                        <div class="col">
                            <form method="POST" id="requestform" action="{% url 'submit-request' reqobj.id %}" onchange="checkforsubmit()">
                                {% csrf_token %}
                                
                                <div class="form-group row float-left mb-0" style="width:500px;">
                                  <label for="inputEmail3" class="col-sm-4 col-form-label" id="tournamelabel">Tour Name</label>
                                  <div class="col-sm">
                                    <input type="text" class="form-control" placeholder="Tour Name"
                                        value="{{ reqobj.name  }}" id="tourNameInput" name="tourname"
                                        autocomplete="off" maxlength="35"  onchange="checkforsubmit()">
                                        <i class="fas fa-check float-right" aria-hidden="true" id="tournametick" 
                                        style="margin-top: -27px; margin-right: 10px; opacity: 0; color: #dc3545;"></i>
                                        <p class="font-weight-bold mt-2" id="tourNameDisplay">{{ reqobj.name }}<i
                                            class="fas fa-edit text-secondary pl-1" id="editTitleTour"></i></p>
                                  </div>
                                </div>
                            </form>
                            <br>
                            <br>
                            {% if reqobj.status == 'Scheduled' %}
                          <div class="float-left font-weight-normal">Schedule<span
                            class="text-dark font-size-16 font-weight-bold">&emsp;{{reqobj.sel_date}}  {{reqobj.sel_time}}</span>
                            {% endif %}
                            <br>
                            <p class="card-text text-dark">
                                Preferred Date(s) and Time(s)
                            </p>

                            <div class="row" style="width:600px;">
                                <div class="col-sm-3 m-0 p-0 pr-2">
                                    <div class="card m-0 p-0" style="height:210px;">
                                        <div class="card-body">
                                          <input id="datepicker_0001" form="requestform" name="date1"
                                                autocomplete="off" class="border-0 bg-transparent pr-1"
                                                onchange='checkforsubmit();dateFunc($(this).attr("id"));'
                                                onclick='$("#cal_datepicker_0001").addClass("text-danger")'
                                                style="cursor:pointer;left:-10px !important" data-date-format="mm/dd/yyyy" value="{{reqobj.date1}}" />                     
                                            <span class="card-text text-center font-size-16"
                                            id="span_datepicker_0001">{% if reqobj.date1 %}
                                            {{ reqobj.date1 }} {% else %}Pick date{% endif %} 
                                            <i class="fas fa-calendar-alt fa-1x" id="cal_datepicker_0001" onclick='$("#cal_datepicker_0001").addClass("text-danger")'></i>
                                              </span>
                                            

                                                    


                                            <div class="form-row p-0 m-0" style=" height: 34px;">
                                                <div class="col-sm-4 p-0 m-0 mt-2">
                                                  <i class="far fa-clock" id="selectDateTime_11" style="z-index: 999;" ></i>
                                                  <select class="form-control p-0 m-0 border-0" name="time1" onchange="checkforsubmit();"
                                                  id="exampleFormControlSelect1_1" form="requestform" style="z-index: 0;">
                                                  <option>   &nbsp; &nbsp; &nbsp; Pick Time</option>
                                                  {% if reqobj.time1_date1 %}
                                                  <option selected >  &nbsp; &nbsp; &nbsp; {{reqobj.time1_date1}}</option>
                                                  {% endif %}
                                                  <option>   &nbsp; &nbsp; &nbsp; 08:00 AM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 08:30 AM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 09:00 AM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 09:30 AM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 10:00 AM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 10:30 AM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 11:00 AM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 11:30 AM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 12:00 PM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 12:30 PM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 01:00 PM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 01:30 PM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 02:00 PM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 02:30 PM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 03:00 PM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 03:30 PM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 04:00 PM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 04:30 PM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 05:00 PM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 05:30 PM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 06:00 PM</option>
                                              </select> 
                                          
                                                </div>
                                                
                                            </div>


                                            <div class="form-row p-0 m-0" style=" height: 34px;">
                                                <div class="col-sm-4 p-0 m-0 mt-2">
                                                    <i class="far fa-clock"></i>
                                                    <select class="form-control p-0 m-0 border-0" name="time2" onchange="checkforsubmit();"
                                                        id="exampleFormControlSelect1_2" form="requestform">
                                                        <option>   &nbsp; &nbsp; &nbsp; Pick Time</option>
                                                        {% if reqobj.time2_date1 %}
                                                        <option selected>  &nbsp; &nbsp; &nbsp; {{reqobj.time2_date1}}</option>
                                                        {% endif %}
                                                        <option>   &nbsp; &nbsp; &nbsp; 08:00 AM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 08:30 AM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 09:00 AM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 09:30 AM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 10:00 AM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 10:30 AM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 11:00 AM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 11:30 AM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 12:00 PM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 12:30 PM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 01:00 PM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 01:30 PM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 02:00 PM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 02:30 PM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 03:00 PM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 03:30 PM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 04:00 PM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 04:30 PM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 05:00 PM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 05:30 PM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 06:00 PM</option>
                                                    </select>
                                                </div>
                                                
                                            </div>

                                            <div class="form-row p-0 m-0" style=" height: 34px;">
                                                <div class="col-sm-4 p-0 m-0 mt-2">
                                                    <i class="far fa-clock"></i>
                                                    <select class="form-control p-0 m-0 border-0" name="time3" onchange="checkforsubmit();"
                                                        id="exampleFormControlSelect1_3" form="requestform">
                                                        <option>   &nbsp; &nbsp; &nbsp; Pick Time</option>
                                                        {% if reqobj.time3_date1 %}
                                                        <option selected>  &nbsp; &nbsp; &nbsp; {{reqobj.time3_date1}}</option>
                                                        {% endif %}
                                                        <option>   &nbsp; &nbsp; &nbsp; 08:00 AM</option>
                                                        <option>   &nbsp; &nbsp; &nbsp; 08:30 AM</option>
                                                        <option>   &nbsp; &nbsp; &nbsp; 09:00 AM</option>
                                                        <option>   &nbsp; &nbsp; &nbsp; 09:30 AM</option>
                                                        <option>   &nbsp; &nbsp; &nbsp; 10:00 AM</option>
                                                        <option>   &nbsp; &nbsp; &nbsp; 10:30 AM</option>
                                                        <option>   &nbsp; &nbsp; &nbsp; 11:00 AM</option>
                                                        <option>   &nbsp; &nbsp; &nbsp; 11:30 AM</option>
                                                        <option>   &nbsp; &nbsp; &nbsp; 12:00 PM</option>
                                                        <option>   &nbsp; &nbsp; &nbsp; 12:30 PM</option>
                                                        <option>   &nbsp; &nbsp; &nbsp; 01:00 PM</option>
                                                        <option>   &nbsp; &nbsp; &nbsp; 01:30 PM</option>
                                                        <option>   &nbsp; &nbsp; &nbsp; 02:00 PM</option>
                                                        <option>   &nbsp; &nbsp; &nbsp; 02:30 PM</option>
                                                        <option>   &nbsp; &nbsp; &nbsp; 03:00 PM</option>
                                                        <option>   &nbsp; &nbsp; &nbsp; 03:30 PM</option>
                                                        <option>   &nbsp; &nbsp; &nbsp; 04:00 PM</option>
                                                        <option>   &nbsp; &nbsp; &nbsp; 04:30 PM</option>
                                                        <option>   &nbsp; &nbsp; &nbsp; 05:00 PM</option>
                                                        <option>   &nbsp; &nbsp; &nbsp; 05:30 PM</option>
                                                        <option>   &nbsp; &nbsp; &nbsp; 06:00 PM</option>
                                                    </select>
                                                </div>
                                                
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-sm-3 m-0 p-0 pr-2">
                                    <div class="card m-0 p-0" style="height:210px;">
                                        <div class="card-body text-center">
                                          <input id="datepicker_0002" form="requestform" name="date2"
                                          autocomplete="off" class="border-0 bg-transparent pr-1"
                                          onchange='checkforsubmit();dateFunc($(this).attr("id"));'
                                          onclick='$("#cal_datepicker_0002").addClass("text-danger")'
                                          style="cursor:pointer;" data-date-format="mm/dd/yyyy" value="{{reqobj.date2}}" />
                                      
                                      <span class="card-text text-center font-size-16"
                                          id="span_datepicker_0002">{% if reqobj.date2 %}
                                          {{ reqobj.date2 }} {% else %}Pick date {% endif %}<i class="fas fa-calendar-alt fa-1x"
                                              id="cal_datepicker_0002"
                                              
                                              onclick='$("#cal_datepicker_0002").addClass("text-danger")'></i></span>



                                            <div class="form-row p-0 m-0" style="height: 34px;">
                                                <div class="col-sm-4 p-0 m-0 mt-2">
                                                    <i class="far fa-clock"></i>
                                                    <select class="form-control p-0 m-0 border-0" name="time4" onchange="checkforsubmit();"
                                                    id="exampleFormControlSelect2_1" form="requestform">
                                                    <option>   &nbsp; &nbsp; &nbsp; Pick Time</option>
                                                    {% if reqobj.time1_date2 %}
                                                    <option selected>  &nbsp; &nbsp; &nbsp; {{reqobj.time1_date2}}</option>
                                                    {% endif %}
                                                    <option>   &nbsp; &nbsp; &nbsp; 08:00 AM</option>
                                                    <option>   &nbsp; &nbsp; &nbsp; 08:30 AM</option>
                                                    <option>   &nbsp; &nbsp; &nbsp; 09:00 AM</option>
                                                    <option>   &nbsp; &nbsp; &nbsp; 09:30 AM</option>
                                                    <option>   &nbsp; &nbsp; &nbsp; 10:00 AM</option>
                                                    <option>   &nbsp; &nbsp; &nbsp; 10:30 AM</option>
                                                    <option>   &nbsp; &nbsp; &nbsp; 11:00 AM</option>
                                                    <option>   &nbsp; &nbsp; &nbsp; 11:30 AM</option>
                                                    <option>   &nbsp; &nbsp; &nbsp; 12:00 PM</option>
                                                    <option>   &nbsp; &nbsp; &nbsp; 12:30 PM</option>
                                                    <option>   &nbsp; &nbsp; &nbsp; 01:00 PM</option>
                                                    <option>   &nbsp; &nbsp; &nbsp; 01:30 PM</option>
                                                    <option>   &nbsp; &nbsp; &nbsp; 02:00 PM</option>
                                                    <option>   &nbsp; &nbsp; &nbsp; 02:30 PM</option>
                                                    <option>   &nbsp; &nbsp; &nbsp; 03:00 PM</option>
                                                    <option>   &nbsp; &nbsp; &nbsp; 03:30 PM</option>
                                                    <option>   &nbsp; &nbsp; &nbsp; 04:00 PM</option>
                                                    <option>   &nbsp; &nbsp; &nbsp; 04:30 PM</option>
                                                    <option>   &nbsp; &nbsp; &nbsp; 05:00 PM</option>
                                                    <option>   &nbsp; &nbsp; &nbsp; 05:30 PM</option>
                                                    <option>   &nbsp; &nbsp; &nbsp; 06:00 PM</option>
                                                </select>
                                                </div>

                                            </div>


                                            <div class="form-row p-0 m-0" style="height: 34px;">
                                                <div class="col-sm-4 p-0 m-0 mt-2">
                                                    <i class="far fa-clock"></i>
                                                    <select class="form-control p-0 m-0 border-0" name="time5" onchange="checkforsubmit();"
                                                        id="exampleFormControlSelect2_2" form="requestform">
                                                        <option>   &nbsp; &nbsp; &nbsp; Pick Time</option>
                                                        {% if reqobj.time2_date2 %}
                                                        <option selected>  &nbsp; &nbsp; &nbsp; {{reqobj.time2_date2}}</option>
                                                        {% endif %}
                                                        <option>   &nbsp; &nbsp; &nbsp; 08:00 AM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 08:30 AM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 09:00 AM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 09:30 AM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 10:00 AM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 10:30 AM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 11:00 AM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 11:30 AM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 12:00 PM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 12:30 PM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 01:00 PM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 01:30 PM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 02:00 PM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 02:30 PM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 03:00 PM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 03:30 PM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 04:00 PM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 04:30 PM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 05:00 PM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 05:30 PM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 06:00 PM</option>
                                                       </select>
                                                </div>
                                            </div>

                                            <div class="form-row p-0 m-0">
                                                <div class="col-sm-4 p-0 m-0 mt-2">
                                                    <i class="far fa-clock"></i>
                                                    <select class="form-control p-0 m-0 border-0" name="time6" onchange="checkforsubmit();"
                                                        id="exampleFormControlSelect2_3" form="requestform">
                                                        <option>   &nbsp; &nbsp; &nbsp; Pick Time</option>
                                                        {% if reqobj.time3_date2 %}
                                                        <option selected>  &nbsp; &nbsp; &nbsp; {{reqobj.time3_date2}}</option>
                                                        {% endif %}
                                                        <option>   &nbsp; &nbsp; &nbsp; 08:00 AM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 08:30 AM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 09:00 AM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 09:30 AM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 10:00 AM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 10:30 AM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 11:00 AM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 11:30 AM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 12:00 PM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 12:30 PM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 01:00 PM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 01:30 PM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 02:00 PM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 02:30 PM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 03:00 PM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 03:30 PM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 04:00 PM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 04:30 PM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 05:00 PM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 05:30 PM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 06:00 PM</option>
                                                    </select>
                                                </div>
                                                
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-sm-3 m-0 p-0 pr-2">
                                    <div class="card m-0 p-0" style="height:210px;">
                                        <div class="card-body text-center">
                                          <input id="datepicker_0003" form="requestform" name="date3"
                                          autocomplete="off" class="border-0 bg-transparent pr-1"
                                          onchange='checkforsubmit();dateFunc($(this).attr("id"));'
                                          onclick='$("#cal_datepicker_0003").addClass("text-danger")'
                                          style="cursor:pointer;" data-date-format="mm/dd/yyyy" value="{{reqobj.date3}}" />
                                      
                                      <span class="card-text text-center font-size-16"
                                          id="span_datepicker_0003">{% if reqobj.date3 %}
                                          {{ reqobj.date3 }} {% else %}Pick
                                          date{% endif %} <i class="fas fa-calendar-alt fa-1x"
                                              id="cal_datepicker_0003"
                                             
                                              onclick='$("#cal_datepicker_0003").addClass("text-danger")'></i></span>


                                            <div class="form-row p-0 m-0" style="height:34px;">
                                                <div class="col-sm-4 p-0 m-0 mt-2">
                                                    <i class="far fa-clock"></i>
                                                    
                                                    <select class="form-control p-0 m-0 border-0" name="time7" onchange="checkforsubmit();"
                                                        id="exampleFormControlSelect3_1" form="requestform">
                                                        <option>   &nbsp; &nbsp; &nbsp; Pick Time</option>
                                                        {% if reqobj.time1_date3 %}
                                                        <option selected>  &nbsp; &nbsp; &nbsp; {{reqobj.time1_date3}}</option>
                                                        {% endif %}
                                                        <option>   &nbsp; &nbsp; &nbsp; 08:00 AM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 08:30 AM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 09:00 AM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 09:30 AM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 10:00 AM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 10:30 AM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 11:00 AM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 11:30 AM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 12:00 PM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 12:30 PM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 01:00 PM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 01:30 PM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 02:00 PM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 02:30 PM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 03:00 PM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 03:30 PM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 04:00 PM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 04:30 PM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 05:00 PM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 05:30 PM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 06:00 PM</option>
                                                    </select>
                                                </div>
                                                
                                            </div>




                                            <div class="form-row p-0 m-0" style="height:34px;">
                                                <div class="col-sm-4 p-0 m-0 mt-2">
                                                    <i class="far fa-clock"></i>
                                                    <select class="form-control p-0 m-0 border-0" name="time8" onchange="checkforsubmit();"
                                                    id="exampleFormControlSelect3_2" form="requestform">
                                                    <option>   &nbsp; &nbsp; &nbsp; Pick Time</option>
                                                    {% if reqobj.time2_date3 %}
                                                    <option selected>  &nbsp; &nbsp; &nbsp; {{reqobj.time2_date3}}</option>
                                                    {% endif %}
                                                    <option>   &nbsp; &nbsp; &nbsp; 08:00 AM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 08:30 AM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 09:00 AM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 09:30 AM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 10:00 AM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 10:30 AM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 11:00 AM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 11:30 AM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 12:00 PM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 12:30 PM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 01:00 PM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 01:30 PM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 02:00 PM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 02:30 PM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 03:00 PM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 03:30 PM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 04:00 PM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 04:30 PM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 05:00 PM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 05:30 PM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 06:00 PM</option>
                                                </select>
                                                </div>
                                               
                                            </div>

                                            <div class="form-row p-0 m-0" style="height: 34px;">
                                                <div class="col-sm-4 p-0 m-0 mt-2">
                                                    <i class="far fa-clock"></i>
                                                    <select class="form-control p-0 m-0 border-0" name="time9" onchange="checkforsubmit();"
                                                    id="exampleFormControlSelect3_3" form="requestform">
                                                    <option selected="">   &nbsp; &nbsp; &nbsp; Pick Time</option>
                                                    {% if reqobj.time3_date3 %}
                                                    <option selected>  &nbsp; &nbsp; &nbsp; {{reqobj.time3_date3}}</option>
                                                    {% endif %}
                                                    <option>   &nbsp; &nbsp; &nbsp; 08:00 AM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 08:30 AM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 09:00 AM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 09:30 AM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 10:00 AM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 10:30 AM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 11:00 AM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 11:30 AM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 12:00 PM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 12:30 PM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 01:00 PM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 01:30 PM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 02:00 PM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 02:30 PM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 03:00 PM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 03:30 PM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 04:00 PM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 04:30 PM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 05:00 PM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 05:30 PM</option>
                                                  <option>   &nbsp; &nbsp; &nbsp; 06:00 PM</option>
                                                </select>
                                                </div>
                                                
                                            </div>


                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row mt-3">
                                <div class="form-group row">

                                    <label for="inputNotes" class="col-sm-2 col-form-label">Notes</label>
                                    <div class="col-sm-6">
                                        <textarea cols="47" rows="3" id="notesTour" name="note" oninput="checkforsubmit();"
                                            form="requestform">{{reqobj.note}}</textarea>
                                            {% if reqobj.sel_date %}
                                            <button class="btn btn-secondary btn-danger float-right ml-3"
                                            data-target="#cancelmodal" data-toggle="modal">Cancel Tour</button>
                                            {% endif %}
                                        <button class="btn btn-danger float-right" type="button"
                                        {% if reqobj.vacant != 8 %}
                                        onclick="submitfunc()"
                                        {% else %}
                                        onclick="$('#nosubmitmodal2').modal('show');"
                                        {% endif %}>{% if reqobj.sel_date %}Update{% else %}Send{% endif %}
                                            Request</button>
                                    </div>


                                </div>

                            </div>

                        </div>
                        <br>
                        <div class="col float-right col-lg-4">
                            <p class="text text-right text-red font-weight-bold text-danger" data-toggle="modal" data-target="#searchmodal">
                                Add More Properties to Tour <i
                                        class="fas fa-plus-circle fa-2x " name="add" id="add" style="cursor: pointer;"></i>
                            </p>
                            <ul class="list-group float-right m-0 p-0 overflow-auto"
                                style="width: 550px; height: 370px;">
                                {% for i in reqobj.relproperty.all %}
                                <div class="media position-relative p-1 pt-2 pb-2 mb-2"
                                    id="list_{{i.id}}">
                                    <img src="/media/{{i.image1}}" class="mr-3" alt="...">
                                    <div class="media-body">
                                        <button type="button" class="close" id="clse_{{i.id}}" data-toggle="modal" data-target="#removep"
                                            onclick="removerfunc('/remove-from-tour/{{i.id}}/{{reqobj.id}}')">
                                            <span aria-hidden="true">&times;</span>
                                        </button>
                                        <h5 class="mt-0 text-wrap">{{i.address}}<br><span
                                                class="font-size-16 font-weight-normal">{{i.city}}<br><span
                                                    class="font-size-16 font-weight-normal">Status: </span><span
                                                    class="font-size-16 font-weight-bold">Active</span> </h5>

                                        <br>
                                        <h5 class="mt-0 text-wrap">${{i.price}}<br><span
                                                class="font-size-16 font-weight-bold">{{i.sqft}} sqft | {{i.beds}} beds
                                                | {{i.baths}} baths
                                        </h5>
                                    </div>
                                </div>
                                {% endfor %}
                            </ul>
                        </div>

                    </div>


                </div>

            </div>
        </div>


    </div>

    <!-- hidden form for saving -->
    <form method="POST" action="{% url 'save-form-on-save' %}" id="form-on-search">{% csrf_token %}
      <input type="hidden" name="id" value="{{reqobj.id}}">
      <input type="hidden" name="date1" value="">
      <input type="hidden" name="date2" value="">
      <input type="hidden" name="date3" value="">
      <input type="hidden" name="time1" value="">
      <input type="hidden" name="time2" value="">
      <input type="hidden" name="time3" value="">
      <input type="hidden" name="time4" value="">
      <input type="hidden" name="time5" value="">
      <input type="hidden" name="time6" value="">
      <input type="hidden" name="time7" value="">
      <input type="hidden" name="time8" value="">
      <input type="hidden" name="time9" value="">
      <input type="hidden" name="note" value="">
      <input type="hidden" name="tourname" value="">
    </form>


    <!-- JavaScript Section -->




    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
        <script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
    <script src="https://unpkg.com/gijgo@1.9.13/js/gijgo.min.js" type="text/javascript"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
        integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
        crossorigin="anonymous"></script>

    <script defer src="https://use.fontawesome.com/releases/v5.0.13/js/fontawesome.js"
        integrity="sha384-6OIrr52G08NpOFSZdxxz1xdNSndlD4vdcf/q2myIUVO0VsqaGHJsB0RaBE01VTOY"
        crossorigin="anonymous"></script>

    <script>
      function submitfunc(){
    var h = false;
    var h1 = false;
    var h2 = false;
    var h3 = false;
    var a = document.getElementById('span_datepicker_0001').innerText;
    var b = document.getElementById('span_datepicker_0002').innerText;
    var c = document.getElementById('span_datepicker_0003').innerText;
    document.getElementById('datepicker_0001').value = a;
    document.getElementById('datepicker_0002').value = b;
    document.getElementById('datepicker_0003').value = c;
    if (a[0] != 'P' ){
        var d = document.getElementById('exampleFormControlSelect1_1').value;
        var e = document.getElementById('exampleFormControlSelect1_2').value;
        var f = document.getElementById('exampleFormControlSelect1_3').value;
        if (d[6] != 'P' || e[6] != 'P' || f[6] != 'P'){
            if (checking2()){
                if (checking3()){
                    $('#submitmodal').modal('show');
                    h = true;
                    h1 = true;
                    setTimeout(function(){
                    document.getElementById('requestform').submit();},4000);
                }
                else{
                    document.getElementById('errortextmessage').innerText = 'Please pick a time for the third date.'
                    $('#nosubmitmodal').modal('show');
                    return;
                }
            }
            else{
                document.getElementById('errortextmessage').innerText = 'Please pick a time for the second date.'
                $('#nosubmitmodal').modal('show');
                return;
            }
        }
        else{
            document.getElementById('errortextmessage').innerText = 'Please select one time for the first date.'
            $('#nosubmitmodal').modal('show');
            return;
        }
    }
    if ( b[0] != 'P' ){
        var d = document.getElementById('exampleFormControlSelect2_1').value;
        var e = document.getElementById('exampleFormControlSelect2_2').value;
        var f = document.getElementById('exampleFormControlSelect2_3').value;
        if (d[6] != 'P' || e[6] != 'P' || f[6] != 'P'){
            if (checking3()){
                $('#submitmodal').modal('show');
                h = true;
                h2 = true;
                setTimeout(function(){
                document.getElementById('requestform').submit();},4000);
            }
            else{
                document.getElementById('errortextmessage').innerText = 'Please pick a time for the third date.'
                $('#nosubmitmodal').modal('show');
                return;
            }
        }
        else{
            document.getElementById('errortextmessage').innerText = 'Please pick a time for the second date.'
            $('#nosubmitmodal').modal('show');
            return;
        }
    }
    if (c[0] != 'P'){
      
        var d = document.getElementById('exampleFormControlSelect3_1').value;
        var e = document.getElementById('exampleFormControlSelect3_2').value;
        var f = document.getElementById('exampleFormControlSelect3_3').value;
        
        if(checking3()){
            if (d[6] != 'P' || e[6] != 'P' || f[6] != 'P'){
                if (checking3()){
                    $('#submitmodal').modal('show');
                    h = true;
                    setTimeout(function(){
                    document.getElementById('requestform').submit();},4000);
                }
                else{
                    document.getElementById('errortextmessage').innerText = 'Please pick a time for the third date.'
                    $('#nosubmitmodal').modal('show');
                    return;
                }
            }
            else{
                document.getElementById('errortextmessage').innerText = 'Please pick a time for the third date.'
                $('#nosubmitmodal').modal('show');
                return;
            }
        }
        else{
            document.getElementById('errortextmessage').innerText = 'Please pick a third date'
            $('#nosubmitmodal').modal('show');
            return;
        }
        
    }
    else{
      
        if (h == false){
            document.getElementById('errortextmessage').innerText = 'Please select at least one date.'
            $('#nosubmitmodal').modal('show');
        }
    }
}

function checking2(){
    var b = document.getElementById('span_datepicker_0002').innerText;
    if (b[0] == 'P'){
        var d = document.getElementById('exampleFormControlSelect2_1').value;
        var e = document.getElementById('exampleFormControlSelect2_2').value;
        var f = document.getElementById('exampleFormControlSelect2_3').value;
        if (d[6] != 'P' || e[6] != 'P' || f[6] != 'P'){
            return false;
        }
        else{
            return true;
        }
    }
    else{
        var d = document.getElementById('exampleFormControlSelect2_1').value;
        var e = document.getElementById('exampleFormControlSelect2_2').value;
        var f = document.getElementById('exampleFormControlSelect2_3').value;
        if (d[6] != 'P' || e[6] != 'P' || f[6] != 'P'){
            return true;
        }
        else{
            return false;
        }
    }
}

function checking3(){
    var b = document.getElementById('span_datepicker_0003').innerText;
    if (b[0] == 'P'){
        return false;
    }
    else{
        var d = document.getElementById('exampleFormControlSelect3_1').value;
        var e = document.getElementById('exampleFormControlSelect3_2').value;
        var f = document.getElementById('exampleFormControlSelect3_3').value;
        
        if (d[6] != 'P' || e[6] != 'P' || f[6] != 'P'){
            return true;
        }
        else{
            return false;
        }
    }
}


        $(document).ready(function () {

            // Event Handler to close a list...
            $(document).on("click", ".close", function () {
                var i = $(this).attr("id").split("_");
                // console.log(i);
                if (i[0] == "close") {
                    $("#list_" + i[1] + "").css("display", "none");
                }
            });

            // Event Handler To Enter Tour Name
            $(document).on("click", ".form-control", function () {
                var i = $(this).attr("id");
                // console.log(i);
                if (i == "tourNameInput") {
                }
            });

            // Event Handler To click on edit button for Tour Name...
            $(document).on("click", ".fa-edit", function () {
                var i = $(this).attr("id");
                // console.log(i);
                if (i == "editTitleTour") {
                    $("#tourNameDisplay, #editTitleTour").hide();
                    // $("#editTitleTour").css("display", "none");
                    $("#tourNameInput").css("display", "block");
                    $("#tournametick").css("opacity", "1");
                    
                }
            });

            $(document).on("click", ".fa-check", function () {
                var i = $(this).attr("id");
                // console.log(i);
                if (i == "tournametick") {
                    $("#tourNameDisplay").css("display", "block");
                    $("#editTitleTour").css("display", "block");
                    $("#tourNameInput").css("display", "none");
                    $("#tournametick").css("opacity", "0");
                    document.getElementById('tourNameDisplay').innerHTML = document.getElementById('tourNameInput').value + '<i class="fas fa-edit text-secondary pl-1" id="editTitleTour"></i>';
                }
            });

            // Event handler for date pick in coulmn no 1
            $(document).on("click", ".fa-calendar-alt", function () {
                var i = $(this).attr("id");
                if (i == "cal_datepicker_0001") {
                    $("#datepicker_0001").css("display", "block");
                    $("#datepicker_0001_form").css("display", "block");
                    $("#span_datepicker_0001").css("position", "relative");
                    $("#span_datepicker_0001").css("top", "-22px");
                    $("#cal_datepicker_0001").addClass("text-danger");
                }
                else if (i == "cal_datepicker_0002") {
                    $("#datepicker_0002").css("display", "block");
                    $("#datepicker_0002_form").css("display", "block");
                    $("#span_datepicker_0002").css("position", "relative");
                    $("#span_datepicker_0002").css("top", "-22px");
                    $("#cal_datepicker_0002").addClass("text-danger");
                }
                else if (i == "cal_datepicker_0003") {
                    $("#datepicker_0003").css("display", "block");
                    $("#datepicker_0003_form").css("display", "block");
                    $("#span_datepicker_0003").css("position", "relative");
                    $("#span_datepicker_0003").css("top", "-22px");
                    $("#cal_datepicker_0003").addClass("text-danger");
                    
                }
            });

            var today;
            today = new Date(new Date().getFullYear(), new Date().getMonth(), new Date().getDate()+1);

            $('#datepicker_0001').datepicker({
                uiLibrary: 'bootstrap4',
                minDate: today
            });

            $('#datepicker_0002').datepicker({
                uiLibrary: 'bootstrap4',
                minDate: today
            });

            $('#datepicker_0003').datepicker({
                uiLibrary: 'bootstrap4',
                minDate: today
            });

        });
    
    function dateFunc(x) 
    {
        $("#" + x + "_form").css("display", "none");
        $("#span_" + x + "").css("position", "relative");
        $("#span_" + x + "").css("top", "-22px");
        $("#span_" + x).html($("#" + x).val() + '<i class="fas fa-calendar-alt fa-1x " id="cal_' + x + '"></i>');
    }

    $('.dropdown-menu li').on('click', function() {
        var getValue = $(this).text();
        $('.dropdown-select').text(getValue);
    });
    </script>

    
    <script>

      function removerfunc(a){
          document.getElementById('removeconfirm').setAttribute('href',a);
      }
  
      {% if itissearched %}
      setTimeout(
        function (){
          $('#searchmodal').modal('show');
        },0
      );
      {% endif %}
  
      function checkforsubmit(){
        array1 = ['date1','date2','date3','time1','time2','time3','time4','time5','time6','time7','time8','time9','note','tourname'];
        for(i=0;i<array1.length;i++){
          temp = document.getElementsByName(array1[i]);
          if (temp[0].value != ''){
            temp[1].value = temp[0].value;
          }
        }
        var formdata = $('#form-on-search').serialize();
        
        $.ajax({
          type:'POST',
          url:$('#form-on-search').attr('action'),
          data:formdata,
        }).done(function(response){
          $("#tourNameDisplay, #editTitleTour").show();
          $("#tourNameInput").css("display", "none");
          $("#tournametick").css("opacity", "0");
          $("#tourNameDisplay").html($("#tourNameInput").val() + '<i class="fas fa-edit text-secondary pl-1" id="editTitleTour"></i>');
          
          return;

          
        });
      }
  
  
  </script>


</body>

</html>